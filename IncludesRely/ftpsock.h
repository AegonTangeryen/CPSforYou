#ifndef _FTP_SOCK_H_
#define _FTP_SOCK_H_

typedef int SOCKET_HANDLE;

//定义函数返回
#define RET_FILE_ERROR		-2
#define RET_ERROR			-1
#define RET_NET_ERROR		-1
#define RET_NET_OVERTIME	0
#define RET_NET_SUCCESS		1

///////////////////////////////////////////////////////////////////////////////
//
//    int ftp_connect(const char*ipaddr,const int port)
//
//    功能：
//				FTP控制端口连接
//
//    参数：	ipaddr:服务器端IP地址
//				port:服务器端FTP端口号
//
//    描述：
//				客户端（本地）连接服务器
//
//    返回：	-1：网络错误
//				0：网络超时
//				1：成功
//
//////////////////////////////////////////////////////////////////////////
extern int ftp_connect(const char*ipaddr,const int port);


//关闭控制端口
extern int ftp_disconnect();


//判断socket是否连接
extern bool ftp_is_connect();

//判断用户是否登陆
extern bool ftp_is_login();

///////////////////////////////////////////////////////////////////////////////
//
//    int ftp_login(const char*ipaddr,const int port)
//
//    功能：
//				登陆
//
//    参数：	username:用户名
//				password:密码
//
//    描述：
//				
//
//    返回：	-1：网络错误
//				0：网络超时
//				1：成功
//////////////////////////////////////////////////////////////////////////
extern int ftp_login(char *username, char *password);


///////////////////////////////////////////////////////////////////////////////
//
//    int ftp_get_pwd(char *dname)
//
//    功能：
//				服务器当前目录地址
//
//    参数：	dname:目录地址名【输出】
//
//    描述：
//				
//
//    返回：	-1：网络错误
//				0：网络超时
//				1：成功
//////////////////////////////////////////////////////////////////////////
extern int ftp_get_pwd(char *dname);

///////////////////////////////////////////////////////////////////////////////
//
//    int ftp_change_folder(char *folder)
//
//    功能：
//				改变服务器目录
//
//    参数：	folder:目标地址
//
//    描述：	支持相对、绝对路径
//				
//
//    返回：	-2：没有此目录
//				-1：网络错误
//				0：网络超时
//				1：成功
//////////////////////////////////////////////////////////////////////////
extern int ftp_change_folder(char *folder);

///////////////////////////////////////////////////////////////////////////////
//
//    int ftp_get_list()
//
//    功能：
//				获取服务器当前目录下文件列表
//
//    参数：	无
//
//    描述：	
//				
//
//    返回：	-1：网络错误
//				0：网络超时
//				1：成功
//////////////////////////////////////////////////////////////////////////
extern int ftp_get_list();

///////////////////////////////////////////////////////////////////////////////
//
//    int ftp_get_file_size(char *filename)
//
//    功能：
//				获取"filename"文件大小
//
//    参数：	filename	文件名
//
//    描述：	
//				在下载文件之前先请求文件大小，进行判断决定是否下载
//
//    返回：	-2：没有"filename"文件
//				-1：网络错误
//				0：网络超时或0_size
//				>0：文件大小
//////////////////////////////////////////////////////////////////////////
extern int ftp_get_file_size(char *filename);


///////////////////////////////////////////////////////////////////////////////
//
//    int ftp_delete_file(char *filename)
//
//    功能：
//				删除当前目录下"filename"文件
//
//    参数：	filename	文件名
//
//    描述：	
//				
//
//    返回：	-2：没有"filename"文件
//				-1：网络错误
//				0：网络超时
//				>0：删除成功
//////////////////////////////////////////////////////////////////////////
extern int ftp_delete_file(char *filename);


///////////////////////////////////////////////////////////////////////////////
//
//    int ftp_get_file(char *s_fname, char *c_fname)
//
//    功能：
//				下载服务器端当前目录下"r_fname"文件
//
//    参数：	s_fname	 服务器端文件名
//				c_fname  客户端（本地）目标文件，可包含路径
//
//    描述：	
//				在下载文件之前先请求文件大小，进行判断决定是否下载
//
//    返回：	-2：没有"filename"文件或文件操作错误
//				-1：网络错误
//				0：网络超时
//				>0：下载成功
//////////////////////////////////////////////////////////////////////////
extern int ftp_get_file(char *s_fname, char *c_fname=NULL);

///////////////////////////////////////////////////////////////////////////////
//
//    int ftp_put_file(char *filename)
//
//    功能：
//				上传"filename"文件到服务器端当前目录
//
//    参数：	filename	文件名，若包含路径仅指本地打开文件路径
//
//    描述：	
//				
//
//    返回：	-2：没有"filename"文件或文件操作错误
//				-1：网络错误
//				0：网络超时
//				>0：上传成功
//////////////////////////////////////////////////////////////////////////
extern int ftp_put_file(char *c_fname, char *s_fname=NULL);

///////////////////////////////////////////////////////////////////////////////
//
//    void ftp_set_mode(int mode)
//
//    功能：
//				设置FTP的连接模式
//
//    参数：	
//              mode: FTP服务器的连接模式
//
//    描述：	
//				
//
//    返回：
//				
//////////////////////////////////////////////////////////////////////////
extern void ftp_set_mode(int mode);

#endif