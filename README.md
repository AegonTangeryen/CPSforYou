# CPSforYou
[版本更新记录]

2017.12.15
1. 调整文件存储格式
2. CPSV1.0上线

2017.12.18
1. fbg波长改为只保留3位小数
2. CNC信息统一保留4位小数
3. 激光位移传感器统一保留4位小数
4. 调整电类传感器ID号，以发布的Excel表为准
5. 去除MAC地址字符之间的“-”或“:”号
6. 新增以fbg接收数组非零长度判定udp是否连接的功能

2017.12.19
1. 所有传感器和云平台的连接、关闭按钮移到首页
2. 新增激光位移传感器的图形

2017.12.20
1. 增加所有五幅图形，并完成图像更新操作

2017.12.21
1. 增加了四个子页面：IP、端口配置，主题选择，电类查看全部、fbg查看全部

2017.12.22
1. 补全了所有界面，包括登录界面，联系我们，推荐页面
2. 实现了这些页面的功能

2017.12.26
1. 实现了http下载功能
2. 实现了主程序启动更新程序和更新程序启动主程序的功能

2018.1.3
1. 修复抽样数据总表对齐问题
2. 实际测试5小时没有问题

2018.1.5
1. 数据采集完全解决，抽样数据不丢点，原始数据中位移传感器丢点极其少，一天24小时仅仅丢失18点
2. 数据格式问题完全解决，按照规定格式存储
3. 软件运行稳定，截止今日18:00已正常运行48h
4. CPSV2.0上线

2018.1.8
1. 增加log日志功能，在关键函数下都设置输出一条信息到log.txt，并且记录内存使用信息
2. 数控机床和位移传感器改为连接成功才创建抽样数据文件夹
3. 各个传感器的连接IP地址和端口号不再恒定，可由界面更改
4. 补全电类传感器全部数据显示表格，消除电类传感器和fbg传感器查看全部数据时内存泄漏的危险

2018.1.11
1. 在关闭某个传感器之后，把相应的内存数组重置为初始值，避免造成仍然连接的假象
2. 增加系统托盘的功能，关闭窗口之后不会退出而是在托盘中运行
3. 修正云平台连接功能，使之更稳定

2018.1.15
1. 更改补偿参数为读ini文件形式，不需要每次重新编译程序
2. 调整界面显示，在最大化时候不会错位
3. 在数控与补偿界面增加进给速度和转速显示，增加每秒实时时间显示

2018.1.16
1. 改进电类温度传感器解析函数，在收到异常值时不会崩溃
2. 调整界面字体大小和颜色，使之更和谐恰当
3. 位移传感器的全局存储变量换成qstringlist，更为方便安全和恰当
4. 调整菜单栏弹出界面的风格
5. 将XML的两个文件集合为一个
6. 实现数控系统信息分包单独发送，200ms一次

2018.1.17
1. 云平台连接页面完善，可以滚动刷新图片
2. 完善更新机制，云平台发送新版本号和两个URL地址，更新信息写在update.ini里面；cps启动外部程序下载EXE文件和ini文件
3. 进一步完善了更新程序，实现了下载和改写ini文件